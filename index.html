<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Katherine & Ricardo</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display&family=Montserrat:wght@300;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- ICONO DE MUSICA -->
<div id="music-icon">
  <img src="play.png" alt="Reproducir música" id="music-img">
</div>
<audio id="music" loop>
  <source src="musica.mp3" type="audio/mp3">
</audio>

<!-- HERO -->
<section class="hero">

    <img src="foto-fondo.jpg" class="hero-img">

  <div class="hero-content">

    <h3 class="subtitle">Nuestra boda</h3>
    <h1>Katherine & Ricardo</h1>

    <!-- CUENTA REGRESIVA CIRCULAR -->
    <div id="countdown" class="countdown">
      <div class="circle"><span id="days">0</span><small>Días</small></div>
      <div class="circle"><span id="hours">0</span><small>Horas</small></div>
      <div class="circle"><span id="minutes">0</span><small>Minutos</small></div>
      <div class="circle"><span id="seconds">0</span><small>Segundos</small></div>
    </div>

<!-- fecha-->
<div class="date-container">
  <img src="linea.png" alt="linea" class="linea">
 <p class="date-below">15.05.2027</p>
  <img src="linea.png" alt="linea" class="linea">
</div>

   
  </div>
</section>

<!-- -->

<!-- HISTORIA -->
<section class="section historia">
  <h2>Nuestra historia</h2>
  <p>Katherine y Ricardo se conocieron en 2020 y desde entonces comenzaron esta hermosa aventura juntos. Te invitamos a celebrar con nosotros nuestro gran día.</p>
</section>

<!-- EVENTO -->
<section class="section evento">
  <h2>Evento</h2>
  <p>Ceremonia: 15:00 hrs</p>
  <p>Recepción: 17:00 hrs</p>
  <p>Lugar: Braga, Portugal</p>
</section>

<section id="confirmacion" class="confirmacion-section">

<div class="confirmacion-box">

<h2>Confirmar asistencia</h2>

<p id="nombreInvitado"></p>

<form id="form">

<div class="form-group">

<label>Adultos</label>

<select id="adultos" required>

<option value="">Seleccionar</option>

<option value="1">1</option>

<option value="2">2</option>

</select>

</div>

<div class="form-group">

<label>Niños</label>

<select id="ninos">

<option value="0">0</option>

<option value="1">1</option>

<option value="2">2</option>

</select>

</div>

<div class="form-group">

<label>Mensaje</label>

<textarea id="comentarios" placeholder="Escribe un mensaje bonito..."></textarea>

</div>

<button type="submit" class="btn-confirmar">

Confirmar asistencia

</button>

</form>

<p id="mensaje"></p>

</div>

</section>


<script src="script.js"></script>

<script>
const scriptURL = "https://script.google.com/macros/library/d/15ZqBGxFY1PCdS9DBvguGaD0PnARnuAyNoVCrq0U0VyYF-8xG3ByHK0ej/6";

const params = new URLSearchParams(window.location.search);
const codigo = params.get("codigo");

if(!codigo){
  document.getElementById("nombreInvitado").innerText = "No se ha recibido código";
} else {
  fetch(scriptURL + "?codigo=" + codigo)
    .then(res => res.json())
    .then(data => {
      if(data.error){
        document.getElementById("nombreInvitado").innerText = data.error;
        return;
      }

      document.getElementById("nombreInvitado").innerText = "Hola " + data.nombre;

      // Adultos
      let selectAdultos = document.getElementById("adultos");
      selectAdultos.innerHTML = "";
      for(let i=1;i<=data.adultos;i++){
        selectAdultos.innerHTML += `<option value="${i}">${i}</option>`;
      }

      // Niños
      let ninosContainer = document.getElementById("ninosContainer");
      let selectNinos = document.getElementById("ninos");
      selectNinos.innerHTML = "";
      if(data.ninos === 0){
        ninosContainer.style.display = "none";
      } else {
        ninosContainer.style.display = "block";
        for(let i=0;i<=data.ninos;i++){
          selectNinos.innerHTML += `<option value="${i}">${i}</option>`;
        }
      }

      // Alergias
      if(data.alergias && data.alergias.trim() !== ""){
        document.getElementById("alergiaTexto").style.display="block";
        document.getElementById("alergias").value = data.alergias;
        document.getElementById("alergiaSelect").value="Si";
      } else {
        document.getElementById("alergiaTexto").style.display="none";
        document.getElementById("alergiaSelect").value="No";
      }
    });
}
</script>



</body>



</html>

